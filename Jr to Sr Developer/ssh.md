# [SSH](https://www.youtube.com/watch?v=ORcvSkgdA58&feature=youtu.be)

secure shell protocol for machines to communicate

- HTTP allows you to send html, css, and js files over the internet between browsers and servers
- FTP allows you to send files as well to a hosting platform
- HTTPS http, but encrypted
- IMAP allows users to send emails
- SSH allow two computers to communicate over the internet. You can even control and modify other computers over the internet

## SSH Commands

`ssh {user}@{host}` - logs in to connected computer

`rsync -av . {user}@{host}` - copies current file to connected computer

## How SSH works

### Symmetrical Encryption

uses one secret key for both parties by using a key exchange algorithm. The key is unique for each ssh session and is generated before the client is authenticated

### Asymmetrical Encryption

the key exchange algorithm uses asymmetrical encryption. Each user has a public/private key pair. A machine that is encrypted with the public key, can only be decrypted by the private key.

I send a message to my friend that gets encrypted by his public key. He then uses his private key to decrypt it.

In SSH, this is used during the key exchange algorithm called [Diffie](https://www.youtube.com/watch?v=NmM9HA2MQGI) [Hellman](https://www.youtube.com/watch?v=Yjrfm_oRO0w) [Key](https://www.youtube.com/watch?v=vsXMMT2CqqE&t=) [Exchange](https://www.youtube.com/watch?v=NF1pwjL9-DE). It combines a little of all parties' keys to create a session key.

### Hashing

There is the potential for someone to sit in the middle and pretend to be the other party.

Hashing is another form of cryptography used in secure shell connections. It can help verify the authentication of the messages by using HMAC.

Using a hash function, each message transmitted must contain a MAC (hash generated by the symmetric key, the packet sequence number, and the message contents we are sending)

## Passwords or SSH?

Once the secure connection is established, the server needs to authenticate the user. But passwords are not enough in and of themselves because of brute force techniques.

## SSH into a server

RSA allows you to SSH without a password.
Create a ~/.ssh folder on your computer. Generate a public and private rsa file if there is not one already.

`ssh-keygen -C "your@email.com"`, then choose the file to save the key.
`ssh-keygen -t rsa -b 4096 -C "your_email@example.com"` might be better.
`-t` selects the type of algorithm `-b` selects the key size

Then share your public key with the server -> `pbcopy < ~/.ssh/file_path_to_public_key`. Login to server then `nano file_name, copy public key`.

You may need to add the specific rsa file if there are multiple (`ssh-add [file_path_to_private_key]`)

The github workflow for every time you start up the terminal:
 - add ssh key (`ssh-add [file_path_to_private_key]`)
  - `ssh add -l` lists all current identities -D removes the current identities
 - verify github connection (`ssh -T git@github.com`)
 - clone repo (`git clone [repo@repo_address]`)

### [To change existing Github repo acces from HTTPS to SSH](https://pandammonium.org/how-to-change-a-git-repository-from-https-to-ssh/)

### Windows - Git Bash

[Could not open a connection to your authentication agent](https://stackoverflow.com/a/17848593/16482150)

### Windows - PowerShell

[Error connecting to agent: No such file or directory](https://debugah.com/windows-ssh-add-error-connecting-to-agent-no-such-file-or-directory-solved-12441/)